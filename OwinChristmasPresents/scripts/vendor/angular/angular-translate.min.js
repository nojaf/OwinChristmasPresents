angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(n){var i=n.storageKey(),t=n.storage();t?t.get(i)?n.use(t.get(i)):angular.isString(n.preferredLanguage())?n.use(n.preferredLanguage()):t.set(i,n.use()):angular.isString(n.preferredLanguage())&&n.use(n.preferredLanguage())}]);angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(n){var r={},u,s=[],h,t,v,i,c,o,y=n,b,f,rt,k=[],d=!1,e,g="translate-cloak",ut,p,w,ft=!1,nt=".",et=function(){var n=window.navigator;return(n.language||n.browserLanguage||n.systemLanguage||n.userLanguage||"").split("-").join("_")},ot=function(n){for(var t=[],e=angular.lowercase(n),u=0,o=s.length,f,i,r;u<o;u++)t.push(angular.lowercase(s[u]));if(t.indexOf(e)>-1)return e;if(h)for(i in h)if(h.hasOwnProperty(i)&&angular.lowercase(i)===angular.lowercase(n)&&(f=h[i],t.indexOf(angular.lowercase(f))>-1))return f;return r=n.split("_"),r.length>1&&t.indexOf(angular.lowercase(r[0]))>-1?r[0]:void 0},l=function(n,t){if(!n&&!t)return r;if(n&&!t){if(angular.isString(n))return r[n]}else angular.isObject(r[n])||(r[n]={}),angular.extend(r[n],a(t));return this},a,tt,it;this.translations=l;this.cloakClassName=function(n){return n?(g=n,this):g};a=function(n,t,i,r){var u,e,o,f;t||(t=[]);i||(i={});for(u in n)n.hasOwnProperty(u)&&(f=n[u],angular.isObject(f)?a(f,t.concat(u),i,u):(e=t.length?""+t.join(nt)+nt+u:u,t.length&&u===r&&(o=""+t.join(nt),i[o]="@:"+e),i[e]=f));return i};this.addInterpolation=function(n){return k.push(n),this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(n){return rt=n,this};this.useSanitizeValueStrategy=function(n){return d=n,this};this.preferredLanguage=function(n){return n?(u=n,this):u};this.translationNotFoundIndicator=function(n){return this.translationNotFoundIndicatorLeft(n),this.translationNotFoundIndicatorRight(n),this};this.translationNotFoundIndicatorLeft=function(n){return n?(p=n,this):p};this.translationNotFoundIndicatorRight=function(n){return n?(w=n,this):w};this.fallbackLanguage=function(n){return tt(n),this};tt=function(n){return n?(angular.isString(n)?(v=!0,t=[n]):angular.isArray(n)&&(v=!1,t=n),angular.isString(u)&&t.push(u),this):v?t[0]:t};this.use=function(n){if(n){if(!r[n]&&!e)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+n+"'");return i=n,this}return i};it=function(n){if(!n)return b?b+y:y;y=n};this.storageKey=it;this.useUrlLoader=function(n){return this.useLoader("$translateUrlLoader",{url:n})};this.useStaticFilesLoader=function(n){return this.useLoader("$translateStaticFilesLoader",n)};this.useLoader=function(n,t){return e=n,ut=t||{},this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(n){return o=n,this};this.storagePrefix=function(n){return n?(b=n,this):n};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(n){return f=n,this};this.usePostCompiling=function(n){return ft=!!n,this};this.determinePreferredLanguage=function(n){var t=n&&angular.isFunction(n)?n():et();if(s.length)u=ot(t);else return u=t,this};this.registerAvailableLanguageKeys=function(n,t){return n?(s=n,t&&(h=t),this):s};this.$get=["$log","$injector","$rootScope","$q",function(n,s,h,b){var ot,ct=s.get(rt||"$translateDefaultInterpolation"),lt=!1,at={},et={},vt,st,nt=function(n,r,f){var h,e,s;return angular.isArray(n)?(h=function(n){for(var i={},u=[],e=function(n){var t=b.defer(),u=function(r){i[n]=r;t.resolve([n,r])};return nt(n,r,f).then(u,u),t.promise},t=0,o=n.length;t<o;t++)u.push(e(n[t]));return b.all(u).then(function(){return i})},h(n)):(e=b.defer(),n=n.trim(),s=function(){var n=u?et[u]:et[i],r,f;return vt=0,o&&!n&&(r=ot.get(y),n=et[r],t&&t.length&&(f=bt(t,r),vt=f>-1?f+=1:0,t.push(u))),n}(),s?s.then(function(){gt(n,r,f).then(e.resolve,e.reject)},e.reject):gt(n,r,f).then(e.resolve,e.reject),e.promise)},bt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},wt=function(n){return p&&(n=[p,n].join(" ")),w&&(n=[n,w].join(" ")),n},pt=function(n){i=n;h.$emit("$translateChangeSuccess");o&&ot.set(nt.storageKey(),i);ct.setLocale(i);angular.forEach(at,function(n,t){at[t].setLocale(i)});h.$emit("$translateChangeEnd")},ht=function(n){if(!n)throw"No language key specified for loading.";var t=b.defer();return h.$emit("$translateLoadingStart"),lt=!0,s.get(e)(angular.extend(ut,{key:n})).then(function(i){var r={};h.$emit("$translateLoadingSuccess");angular.isArray(i)?angular.forEach(i,function(n){angular.extend(r,a(n))}):angular.extend(r,a(i));lt=!1;t.resolve({key:n,table:r});h.$emit("$translateLoadingEnd")},function(n){h.$emit("$translateLoadingError");t.reject(n);h.$emit("$translateLoadingEnd")}),t.promise},yt,ti;if(o&&(ot=s.get(o),!ot.get||!ot.set))throw new Error("Couldn't use storage '"+o+"', missing get() or set() method!");angular.isFunction(ct.useSanitizeValueStrategy)&&ct.useSanitizeValueStrategy(d);k.length&&angular.forEach(k,function(n){var t=s.get(n);t.setLocale(u||i);angular.isFunction(t.useSanitizeValueStrategy)&&t.useSanitizeValueStrategy(d);at[t.getInterpolationIdentifier()]=t});var ii=function(n){var t=b.defer();return r.hasOwnProperty(n)?(t.resolve(r[n]),t.promise):(et[n].then(function(n){l(n.key,n.table);t.resolve(n.table)},t.reject),t.promise)},ri=function(n,t,r,u){var f=b.defer();return ii(n).then(function(e){e.hasOwnProperty(t)?(u.setLocale(n),f.resolve(u.interpolate(e[t],r)),u.setLocale(i)):f.reject()},f.reject),f.promise},ui=function(n,t,u,f){var e,o=r[n];return o.hasOwnProperty(t)&&(f.setLocale(n),e=f.interpolate(o[t],u),f.setLocale(i)),e},kt=function(n,i,r,u){var f=b.defer(),e;return n<t.length?(e=t[n],ri(e,i,r,u).then(function(n){f.resolve(n)},function(){var t=kt(n+1,i,r,u);f.resolve(t)})):f.resolve(i),f.promise},dt=function(n,i,r,u){var f,e;return n<t.length&&(e=t[n],f=ui(e,i,r,u),f||(f=dt(n+1,i,r,u))),f},fi=function(n,t,i){return kt(st>0?st:vt,n,t,i)},ei=function(n,t,i){return dt(st>0?st:vt,n,t,i)},gt=function(n,u,e){var o=b.defer(),c=i?r[i]:r,l=e?at[e]:ct,h;return c&&c.hasOwnProperty(n)?(h=c[n],h.substr(0,2)==="@:"?nt(h.substr(2),u,e).then(o.resolve,o.reject):o.resolve(l.interpolate(h,u))):(f&&!lt&&s.get(f)(n,i),i&&t&&t.length?fi(n,u,l).then(function(n){o.resolve(n)},function(n){o.reject(wt(n))}):o.reject(wt(n))),o.promise},ni=function(n,u,e){var o,c=i?r[i]:r,l=e?at[e]:ct,h;return c&&c.hasOwnProperty(n)?(h=c[n],o=h.substr(0,2)==="@:"?ni(h.substr(2),u,e):l.interpolate(h,u)):(f&&!lt&&s.get(f)(n,i),i&&t&&t.length?(vt=0,o=ei(n,u,l)):o=wt(n)),o};if(nt.preferredLanguage=function(){return u},nt.cloakClassName=function(){return g},nt.fallbackLanguage=function(n){if(n!==undefined&&n!==null){if(tt(n),e&&t&&t.length)for(var i=0,r=t.length;i<r;i++)et[t[i]]||(et[t[i]]=ht(t[i]));nt.use(nt.use())}return v?t[0]:t},nt.useFallbackLanguage=function(n){if(n!==undefined&&n!==null)if(n){var i=bt(t,n);i>-1&&(st=i)}else st=0},nt.proposedLanguage=function(){return c},nt.storage=function(){return ot},nt.use=function(n){if(!n)return i;var t=b.defer();return h.$emit("$translateChangeStart"),!r[n]&&e?(c=n,et[n]=ht(n).then(function(i){l(i.key,i.table);t.resolve(i.key);c===n&&(pt(i.key),c=undefined)},function(n){c=undefined;h.$emit("$translateChangeError");t.reject(n);h.$emit("$translateChangeEnd")})):(t.resolve(n),pt(n)),t.promise},nt.storageKey=function(){return it()},nt.isPostCompilingEnabled=function(){return ft},nt.refresh=function(n){function s(){u.resolve();h.$emit("$translateRefreshEnd")}function c(){u.reject();h.$emit("$translateRefreshEnd")}var u,f,o,a;if(!e)throw new Error("Couldn't refresh translation table, no loader registered!");if(u=b.defer(),h.$emit("$translateRefreshStart"),n)r[n]?ht(n).then(function(t){l(t.key,t.table);n===i&&pt(i);s()},c):c();else{if(f=[],t&&t.length)for(o=0,a=t.length;o<a;o++)f.push(ht(t[o]));i&&f.push(ht(i));b.all(f).then(function(n){angular.forEach(n,function(n){r[n.key]&&delete r[n.key];l(n.key,n.table)});i&&pt(i);s()})}return u.promise},nt.instant=function(n,e,o){var v,l,p,c,h,a,w,y;if(angular.isArray(n)){for(v={},l=0,p=n.length;l<p;l++)v[n[l]]=nt.instant(n[l],e,o);return v}if(typeof n=="undefined"||n==="")return n;for(n=n.trim(),h=[],u&&h.push(u),i&&h.push(i),t&&t.length&&(h=h.concat(t)),a=0,w=h.length;a<w;a++)if(y=h[a],r[y]&&typeof r[y][n]!="undefined"&&(c=ni(n,e,o)),typeof c!="undefined")break;return c||c===""||(c=n,f&&!lt&&s.get(f)(n,i)),c},e&&(angular.equals(r,{})&&nt.use(nt.use()),t&&t.length))for(yt=0,ti=t.length;yt<ti;yt++)et[t[yt]]=ht(t[yt]);return nt}]}]);angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(n){var t={},u,f="default",i=null,r={escaped:function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=angular.element("<div><\/div>").text(n[t]).html());return i}},e=function(n){return angular.isFunction(r[i])?r[i](n):n};return t.setLocale=function(n){u=n},t.getInterpolationIdentifier=function(){return f},t.useSanitizeValueStrategy=function(n){return i=n,this},t.interpolate=function(t,r){return i&&(r=e(r)),n(t)(r)},t}]);angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY");angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(n,t,i,r,u,f){return{restrict:"AE",scope:!0,compile:function(t,e){var o=e.translateValues?e.translateValues:undefined,s=e.translateInterpolation?e.translateInterpolation:undefined,h=t[0].outerHTML.match(/translate-value-+/i);return function(t,c,l){var y,a;if(t.interpolateParams={},l.$observe("translate",function(n){t.translationId=angular.equals(n,"")||!angular.isDefined(n)?i(c.text().replace(/^\s+|\s+$/g,""))(t.$parent):n}),l.$observe("translateDefault",function(n){t.defaultText=n}),o&&l.$observe("translateValues",function(n){n&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,u(n)(t.$parent))})}),h){y=function(n){l.$observe(n,function(i){t.interpolateParams[angular.lowercase(n.substr(14,1))+n.substr(15)]=i})};for(a in l)l.hasOwnProperty(a)&&a.substr(0,14)==="translateValue"&&a!=="translateValues"&&y(a)}var v=function(t,i,u){u||typeof i.defaultText=="undefined"||(t=i.defaultText);c.html(t);var o=n.isPostCompilingEnabled(),f=typeof e.translateCompile!="undefined",s=f&&e.translateCompile!=="false";(o&&!f||s)&&r(c.contents())(i)},p=function(){return o||h?function(){var i=function(){t.translationId&&t.interpolateParams&&n(t.translationId,t.interpolateParams,s).then(function(n){v(n,t,!0)},function(n){v(n,t,!1)})};t.$watch("interpolateParams",i,!0);t.$watch("translationId",i)}:function(){var i=t.$watch("translationId",function(r){t.translationId&&r&&n(r,{},s).then(function(n){v(n,t,!0);i()},function(n){v(n,t,!1);i()})},!0)}}(),w=f.$on("$translateChangeSuccess",p);p();t.$on("$destroy",w)}}}}]);angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(n,t){return{compile:function(i){n.$on("$translateLoadingSuccess",function(){i.removeClass(t.cloakClassName())});i.addClass(t.cloakClassName())}}}]);angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(n,t){return function(i,r,u){return angular.isObject(r)||(r=n(r)()),t.instant(i,r,u)}}]);
/*
//# sourceMappingURL=angular-translate.min.js.map
*/